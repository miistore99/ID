<!-- =========================
PART 1/3 â€” HEAD + STYLE
Simpan Sebagai: index.html
========================= -->
<!doctype html>
<html lang="id" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light dark" />
  <title>Mii Store â€” Premium Digital Services</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@600;700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --cream-0:#fbf5ea; --cream-1:#f3eadb; --cream-2:#eadcc7;
      --ink-0:#1b120c; --ink-1:#2b1e14;
      --green:#2f7a4a; --green2:#3fae67;
      --shadow: 0 18px 55px rgba(20,12,8,.22);
      --stroke2: rgba(30,18,12,.12);
      --radius: 22px; --radius2: 16px;
      --fontTitle: "Cinzel", ui-serif, Georgia, serif;
      --fontBody: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    }

    html[data-theme="light"]{
      --bg: var(--cream-1);
      --bg2: var(--cream-0);
      --card: rgba(255,255,255,.64);
      --card2: rgba(255,255,255,.72);
      --text: rgba(30,18,12,.92);
      --muted: rgba(30,18,12,.68);
      --muted2: rgba(30,18,12,.50);
      --icon: rgba(30,18,12,.82);
      --chip: rgba(30,18,12,.08);
      --blur: 18px;
      --heroOverlay: rgba(255,255,255,.14);
    }
    html[data-theme="dark"]{
      --bg: #241a12;
      --bg2: #17100b;
      --card: rgba(20,14,10,.62);
      --card2: rgba(20,14,10,.72);
      --text: rgba(255,245,232,.92);
      --muted: rgba(255,245,232,.70);
      --muted2: rgba(255,245,232,.50);
      --icon: rgba(255,245,232,.84);
      --chip: rgba(255,245,232,.10);
      --stroke2: rgba(255,245,232,.12);
      --blur: 20px;
      --heroOverlay: rgba(0,0,0,.18);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: var(--fontBody);
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 18% 10%, rgba(63,174,103,.14), transparent 60%),
        radial-gradient(900px 650px at 88% 22%, rgba(255,165,90,.16), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow-x:hidden;
      text-transform: capitalize;
    }

    /* Background image */
    body::before{
      content:"";
      position:fixed; inset:0;
      background:
        linear-gradient(180deg, rgba(0,0,0,.10), rgba(0,0,0,.14)),
        url("background.jpg") center/cover no-repeat;
      opacity:.22;
      pointer-events:none;
      z-index:-3;
    }
    html[data-theme="dark"] body::before{
      background:
        linear-gradient(180deg, rgba(0,0,0,.55), rgba(0,0,0,.55)),
        url("background.jpg") center/cover no-repeat;
      opacity:.34;
    }

    /* bubbles */
    .bubbles{position:fixed; inset:0; pointer-events:none; z-index:-2; overflow:hidden}
    .bubble{
      position:absolute; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), rgba(255,255,255,.06));
      opacity:.50;
      animation: floatUp linear infinite;
    }
    html[data-theme="dark"] .bubble{
      background: radial-gradient(circle at 30% 30%, rgba(255,245,232,.22), rgba(255,245,232,.05));
      opacity:.38;
    }
    @keyframes floatUp{
      from{ transform: translate3d(0, 18vh, 0) }
      to{ transform: translate3d(0, -130vh, 0) }
    }

    .wrap{max-width:1100px; margin:0 auto; padding:18px 14px 110px}

    /* Topbar */
    .topbar{
      position:sticky; top:10px; z-index:40;
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding:12px 14px;
      border-radius:999px;
      background: var(--card);
      border:1px solid var(--stroke2);
      box-shadow: var(--shadow);
      backdrop-filter: blur(var(--blur));
    }
    .brand{display:flex; gap:10px; align-items:center; min-width:170px}
    .avatar{
      width:38px; height:38px; border-radius:14px; overflow:hidden;
      border:1px solid var(--stroke2);
      box-shadow: 0 10px 25px rgba(0,0,0,.10);
      background: rgba(255,255,255,.3);
      flex:0 0 auto;
    }
    .avatar img{width:100%; height:100%; object-fit:cover; display:block}
    .brandTxt{display:flex; flex-direction:column; line-height:1.05}
    .brandTxt b{font-size:14px; letter-spacing:.2px}
    .brandTxt span{font-size:12px; color:var(--muted); text-transform:none}

    /* Nav Pills (rapi di HP: kecil & bisa scroll) */
    .nav{
      display:flex; gap:8px; align-items:center;
      overflow:auto; scrollbar-width:none;
      padding:2px 0;
      max-width: 52vw;
    }
    .nav::-webkit-scrollbar{display:none}
    .pill{
      padding:10px 12px;
      border-radius:999px;
      background: rgba(0,0,0,.06);
      border:1px solid var(--stroke2);
      color: var(--text);
      text-decoration:none;
      font-weight:800;
      font-size:12px;
      letter-spacing:.2px;
      white-space:nowrap;
      transition: transform .18s ease;
    }
    html[data-theme="dark"] .pill{background: rgba(255,255,255,.06)}
    .pill:hover{transform: translateY(-1px)}

    .actions{display:flex; gap:8px; align-items:center; min-width:110px; justify-content:flex-end}
    .iconBtn{
      width:40px; height:40px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.06);
      color: var(--icon);
      display:grid; place-items:center;
      cursor:pointer;
      transition: transform .18s ease;
      position:relative;
    }
    html[data-theme="dark"] .iconBtn{background: rgba(255,255,255,.06)}
    .iconBtn:hover{transform: translateY(-1px)}
    .badge{
      position:absolute; top:-6px; right:-6px;
      background: var(--green2);
      color:#fff;
      border:2px solid rgba(255,255,255,.65);
      width:20px; height:20px;
      border-radius:999px;
      display:grid; place-items:center;
      font-size:11px;
      font-weight:900;
      text-transform:none;
    }

    /* HERO */
    .hero{
      margin-top:14px;
      border-radius: var(--radius);
      border:1px solid var(--stroke2);
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.02));
      box-shadow: var(--shadow);
      overflow:hidden;
      position:relative;
    }
    .heroInner{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:14px;
      padding:18px;
      align-items:stretch;
    }
    .heroLeft{
      border-radius: calc(var(--radius) - 8px);
      background: var(--heroOverlay);
      border:1px solid var(--stroke2);
      padding:16px;
      backdrop-filter: blur(calc(var(--blur) - 6px));
      min-width: 0; /* IMPORTANT: biar teks nggak kepotong */
    }

    /* FIX: judul tidak kepotong di HP */
    .title{
      font-family: var(--fontTitle);
      margin:10px 0 10px;
      font-size: clamp(30px, 5vw, 44px);
      line-height: 1.05;
      letter-spacing: .4px;
      word-break: keep-all;
      overflow-wrap: anywhere;
    }
    .title .line{display:block}

    .sub{
      margin: 0 0 14px;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.6;
      max-width: 60ch;
      text-transform:none;
    }

    .ticker{
      display:inline-flex; align-items:center;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      padding:8px 12px;
      overflow:hidden;
      max-width: 100%;
    }
    html[data-theme="dark"] .ticker{background: rgba(255,255,255,.06)}
    .tickerTrack{
      display:flex; gap:18px; white-space:nowrap;
      animation: marquee 18s linear infinite;
      will-change: transform;
    }
    .ticker span{
      font-weight:900;
      font-size:12px;
      letter-spacing:.6px;
      color: var(--muted);
      text-transform: uppercase;
    }
    @keyframes marquee{
      from{transform: translateX(0)}
      to{transform: translateX(-50%)}
    }

    .ctaRow{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      border-radius:999px;
      padding:12px 14px;
      border:1px solid var(--stroke2);
      text-decoration:none;
      font-weight:900;
      font-size:13px;
      cursor:pointer;
      transition: transform .18s ease;
      user-select:none;
      text-transform:none;
    }
    .btn:hover{transform: translateY(-1px)}
    .btnPrimary{
      background: linear-gradient(180deg, var(--green2), var(--green));
      color:#fff;
      border-color: rgba(255,255,255,.25);
      box-shadow: 0 14px 30px rgba(63,174,103,.20);
    }
    .btnGhost{
      background: rgba(0,0,0,.05);
      color: var(--text);
    }
    html[data-theme="dark"] .btnGhost{background: rgba(255,255,255,.06)}

    .socialRow{margin-top:12px; display:flex; gap:10px; flex-wrap:wrap}
    .sIcon{
      width:44px; height:44px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      display:grid; place-items:center;
      color: var(--icon);
      text-decoration:none;
      transition: transform .20s ease;
      animation: pop 2.8s ease-in-out infinite;
    }
    html[data-theme="dark"] .sIcon{background: rgba(255,255,255,.06)}
    .sIcon:nth-child(2){animation-delay:.2s}
    .sIcon:nth-child(3){animation-delay:.4s}
    .sIcon:nth-child(4){animation-delay:.6s}
    @keyframes pop{0%,100%{transform:translateY(0)}50%{transform:translateY(-3px)}}
    .sIcon:hover{transform: translateY(-4px) scale(1.03)}

    /* HERO IMAGE */
    .heroRight{
      border-radius: calc(var(--radius) - 8px);
      overflow:hidden;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.06);
      position:relative;
      min-height: 260px;
    }
    .heroRight img{
      width:100%; height:100%;
      object-fit: cover;
      object-position: center;
      display:block;
    }
    .heroRight::after{
      content:"";
      position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.28));
      pointer-events:none;
    }
    html[data-theme="light"] .heroRight::after{
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(0,0,0,.12));
    }

    /* Sections */
    .section{margin-top:16px}
    .h2{
      font-family: var(--fontTitle);
      margin: 0 0 10px;
      font-size: 22px;
      letter-spacing:.3px;
    }
    .note{margin:0 0 14px; color:var(--muted); font-size:13px; text-transform:none}

    /* Products */
    .grid{display:grid; grid-template-columns: repeat(3, 1fr); gap:12px}
    .card{
      border-radius: var(--radius2);
      border:1px solid var(--stroke2);
      background: var(--card);
      box-shadow: var(--shadow);
      overflow:hidden;
      backdrop-filter: blur(var(--blur));
      transition: transform .18s ease;
    }
    .card:hover{transform: translateY(-2px)}
    .pImg{height:140px; background: rgba(0,0,0,.06)}
    .pImg img{width:100%; height:100%; object-fit:cover; display:block}
    .pBody{padding:12px}
    .pTitle{margin:0; font-weight:900; font-size:15px}
    .pMeta{margin:6px 0 10px; color:var(--muted); font-size:12px; text-transform:none}
    .chips{display:flex; gap:6px; flex-wrap:wrap; margin-bottom:10px}
    .chip{
      padding:6px 9px;
      border-radius:999px;
      border:1px solid var(--stroke2);
      background: var(--chip);
      font-size:11px;
      font-weight:900;
      color: var(--muted);
    }

    /* Type Select */
    .typeRow{display:flex; gap:8px; align-items:center; margin-bottom:10px}
    .typeRow label{font-size:12px; color:var(--muted); font-weight:900}
    .typeSelect{
      flex:1;
      border-radius:12px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      padding:10px 10px;
      font-weight:900;
      color: var(--text);
      outline:none;
    }
    html[data-theme="dark"] .typeSelect{background: rgba(255,255,255,.06)}
    .typeSelect{ text-transform: capitalize; }

    .pActions{display:flex; gap:8px}
    .miniBtn{
      flex:1;
      padding:10px 12px;
      border-radius: 12px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      font-weight:900;
      cursor:pointer;
      transition: transform .18s ease;
    }
    html[data-theme="dark"] .miniBtn{background: rgba(255,255,255,.06)}
    .miniBtn:hover{transform: translateY(-1px)}
    .miniPrimary{
      background: linear-gradient(180deg, var(--green2), var(--green));
      color:#fff;
      border-color: rgba(255,255,255,.22);
    }

    /* Steps */
    .steps{display:grid; grid-template-columns: repeat(3, 1fr); gap:10px}
    .step{
      border-radius: var(--radius2);
      border:1px solid var(--stroke2);
      background: var(--card2);
      padding:12px;
    }
    .step b{display:block; margin-bottom:4px}
    .step p{margin:0; color:var(--muted); font-size:12px; text-transform:none}

    /* Cart Drawer */
    .drawerBackdrop{position:fixed; inset:0; background: rgba(0,0,0,.35); display:none; z-index:80}
    .drawer{
      position:fixed; right:14px; top:14px; bottom:14px;
      width:min(420px, calc(100% - 28px));
      border-radius: var(--radius);
      border:1px solid var(--stroke2);
      background: var(--card2);
      backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow);
      transform: translateX(120%);
      transition: transform .22s ease;
      z-index:90;
      display:flex; flex-direction:column;
      overflow:hidden;
    }
    .drawer.open{transform: translateX(0)}
    .drawerBackdrop.open{display:block}
    .drawerHead{padding:14px; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid var(--stroke2)}
    .drawerHead b{font-size:14px; text-transform:none}
    .drawerBody{padding:12px 14px; overflow:auto; flex:1}
    .cartItem{
      display:flex; gap:10px; padding:10px;
      border-radius: 14px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.04);
      margin-bottom:10px;
    }
    html[data-theme="dark"] .cartItem{background: rgba(255,255,255,.06)}
    .cartThumb{width:56px; height:56px; border-radius:14px; overflow:hidden; border:1px solid var(--stroke2); flex:0 0 auto}
    .cartThumb img{width:100%; height:100%; object-fit:cover; display:block}
    .cartMid{flex:1; min-width:0}
    .cartMid b{display:block; font-size:13px; text-transform:none}
    .cartMid span{display:block; font-size:12px; color:var(--muted); margin-top:4px; text-transform:none}
    .qtyRow{display:flex; align-items:center; gap:8px; margin-top:8px; flex-wrap:wrap}
    .qtyBtn{
      width:34px; height:34px; border-radius:12px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      cursor:pointer; font-weight:900; color: var(--text);
    }
    html[data-theme="dark"] .qtyBtn{background: rgba(255,255,255,.06)}
    .qtyVal{min-width:26px; text-align:center; font-weight:900; text-transform:none}
    .removeBtn{
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      border-radius:12px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:900;
      text-transform:none;
    }
    html[data-theme="dark"] .removeBtn{background: rgba(255,255,255,.06)}

    .cartTypeSelect{
      width:100%;
      margin-top:8px;
      border-radius:12px;
      border:1px solid var(--stroke2);
      background: rgba(0,0,0,.05);
      padding:10px 10px;
      font-weight:900;
      color: var(--text);
      outline:none;
      text-transform: capitalize;
    }
    html[data-theme="dark"] .cartTypeSelect{background: rgba(255,255,255,.06)}

    .drawerFoot{padding:12px 14px; border-top:1px solid var(--stroke2); display:flex; gap:10px; align-items:center; justify-content:space-between}
    .small{color:var(--muted); font-size:12px; text-transform:none}

    /* Qty Modal */
    .modalBackdrop{position:fixed; inset:0; background: rgba(0,0,0,.35); display:none; z-index:95}
    .modal{
      position:fixed; left:50%; top:50%;
      transform: translate(-50%,-50%);
      width:min(420px, calc(100% - 28px));
      border-radius: var(--radius);
      border:1px solid var(--stroke2);
      background: var(--card2);
      backdrop-filter: blur(var(--blur));
      box-shadow: var(--shadow);
      display:none; z-index:100;
      overflow:hidden;
    }
    .modal.open, .modalBackdrop.open{display:block}
    .modalHead{padding:12px 14px; border-bottom:1px solid var(--stroke2); display:flex; justify-content:space-between; align-items:center}
    .modalHead b{ text-transform:none }
    .modalBody{padding:14px}
    .modalBody p{margin:0 0 10px; color:var(--muted); text-transform:none}
    .modalRow{display:flex; gap:10px; align-items:center; justify-content:space-between}
    .modalFoot{padding:12px 14px; border-top:1px solid var(--stroke2); display:flex; gap:10px; justify-content:flex-end}

    /* WhatsApp Floating Bottom */
    .waFloat{
      position:fixed; right:14px; bottom:14px; z-index:70;
      display:flex; align-items:center; gap:10px;
      padding:12px 14px;
      border-radius:999px;
      background: linear-gradient(180deg, var(--green2), var(--green));
      color:#fff; text-decoration:none;
      font-weight:900;
      border:1px solid rgba(255,255,255,.25);
      box-shadow: 0 18px 45px rgba(63,174,103,.20);
      transition: transform .18s ease;
      text-transform:none;
    }
    .waFloat:hover{transform: translateY(-2px)}

    footer{margin-top:18px; text-align:center; color:var(--muted2); font-size:12px; text-transform:none}

    /* Responsive Fix (HP) */
    @media (max-width: 980px){
      .grid{grid-template-columns: repeat(2, 1fr);}
    }
    @media (max-width: 860px){
      /* FIX: HERO jadi 1 kolom di HP supaya tidak "desktop mode" */
      .heroInner{grid-template-columns: 1fr;}
      .heroRight{min-height: 240px;}
      .nav{max-width: 46vw;}
    }
    @media (max-width: 520px){
      .grid{grid-template-columns: 1fr;}
      .steps{grid-template-columns: 1fr}
      .nav{max-width: 40vw;}
      .pill{padding:9px 10px; font-size:11px;}
      .actions{min-width: 96px;}
    }

    svg{display:block}
  </style>
</head>
<body>
  <div class="bubbles" id="bubbles"></div>

  <div class="drawerBackdrop" id="drawerBackdrop"></div>

  <aside class="drawer" id="drawer" aria-label="Cart">
    <div class="drawerHead">
      <b>Cart</b>
      <button class="iconBtn" id="closeCart" aria-label="Close Cart" title="Close">âœ•</button>
    </div>
    <div class="drawerBody" id="cartList"></div>
    <div class="drawerFoot">
      <div class="small" id="cartSummary">No Items In Cart</div>
      <a class="btn btnPrimary" id="checkoutBtn" href="#" target="_blank" rel="noopener">Checkout Via WhatsApp</a>
    </div>
  </aside>

  <div class="modalBackdrop" id="modalBackdrop"></div>
  <div class="modal" id="qtyModal" role="dialog" aria-modal="true" aria-label="Quantity Selector">
    <div class="modalHead">
      <b id="qtyTitle">Add To Cart</b>
      <button class="iconBtn" id="closeQty" aria-label="Close" title="Close">âœ•</button>
    </div>
    <div class="modalBody">
      <p id="qtyDesc">Select Quantity</p>

      <div class="typeRow">
        <label for="qtyType">Type</label>
        <select class="typeSelect" id="qtyType">
          <option value="Private">Private</option>
          <option value="Sharing">Sharing</option>
        </select>
      </div>

      <div class="modalRow">
        <button class="qtyBtn" id="qtyMinus">âˆ’</button>
        <div class="qtyVal" id="qtyValue">1</div>
        <button class="qtyBtn" id="qtyPlus">+</button>
      </div>
    </div>
    <div class="modalFoot">
      <button class="btn btnGhost" id="qtyCancel" type="button">Cancel</button>
      <button class="btn btnPrimary" id="qtyConfirm" type="button">Add To Cart</button>
    </div>
  </div>

  <div class="wrap">
    <header class="topbar">
      <div class="brand">
        <div class="avatar">
          <img src="Picsart_26-01-16_21-26-39-597.jpg" alt="Mii Store Avatar">
        </div>
        <div class="brandTxt">
          <b>Mii Store</b>
          <span>Premium Digital Services</span>
        </div>
      </div>

      <nav class="nav" aria-label="Navigation">
        <a class="pill" href="#products">Products</a>
        <a class="pill" href="#how">How To Order</a>
        <a class="pill" href="#social">Social</a>
      </nav>

      <div class="actions">
        <button class="iconBtn" id="cartBtn" aria-label="Open Cart" title="Cart">
          ðŸ›’
          <span class="badge" id="cartCount" style="display:none">0</span>
        </button>
        <button class="iconBtn" id="themeBtn" aria-label="Toggle Theme" title="Theme">ðŸŒ™</button>
      </div>
    </header>
    <!-- =========================
PART 2/3 â€” BODY CONTENT
========================= -->
    <section class="hero" id="top">
      <div class="heroInner">
        <div class="heroLeft">
          <div class="ticker" aria-label="Ticker">
            <div class="tickerTrack" id="tickerTrack">
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
            </div>
          </div>

          <!-- FIX: 2 baris rapi di HP & Desktop -->
          <h1 class="title">
            <span class="line">Premium Digital</span>
            <span class="line">Services</span>
          </h1>

          <p class="sub">
            Trusted Provider Of Premium Digital Subscriptions (Sharing Or Private Depending On Product).
            Simple Ordering Via WhatsApp, Fast Processing, And Clear Guidance After Purchase.
          </p>

          <div class="ctaRow">
            <a class="btn btnPrimary" id="waHero" href="#" target="_blank" rel="noopener">Order Via WhatsApp</a>
            <a class="btn btnGhost" href="#products">View Products</a>
          </div>

          <div class="socialRow" aria-label="Social Icons">
            <a class="sIcon" id="waIcon" href="#" target="_blank" rel="noopener" aria-label="WhatsApp" title="WhatsApp">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M20.5 11.9c0 4.7-3.9 8.6-8.6 8.6-1.5 0-2.9-.4-4.1-1.1L3.5 20.5l1.2-4.1c-.8-1.2-1.2-2.7-1.2-4.2 0-4.7 3.9-8.6 8.6-8.6 4.7 0 8.4 3.6 8.4 8.3z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8.8 8.7c.2-.4.4-.4.7-.4h.6c.2 0 .5.1.6.4l.6 1.6c.1.3.1.5 0 .7l-.4.5c-.1.2-.2.4 0 .6.4.7 1.2 1.6 2.3 2.2.2.1.5.1.6 0l.7-.7c.2-.2.4-.2.6-.1l1.7.8c.2.1.4.4.4.6 0 .8-.3 1.3-.8 1.6-.5.3-1.2.4-1.8.2-1.4-.4-2.6-1.2-3.7-2.3-1.2-1.1-2-2.4-2.4-3.8-.2-.6-.1-1.3.2-1.9z" fill="currentColor" opacity=".85"/>
              </svg>
            </a>

            <a class="sIcon" href="https://www.instagram.com/asami.am0/" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M7.5 2.8h9c2.6 0 4.7 2.1 4.7 4.7v9c0 2.6-2.1 4.7-4.7 4.7h-9c-2.6 0-4.7-2.1-4.7-4.7v-9c0-2.6 2.1-4.7 4.7-4.7z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M12 16.3a4.3 4.3 0 1 0 0-8.6 4.3 4.3 0 0 0 0 8.6z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M17.7 6.6h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
              </svg>
            </a>

            <a class="sIcon" href="https://www.tiktok.com/@mii._002/" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M14 3v10.2a3.8 3.8 0 1 1-3.2-3.7" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14 6.2c1.3 1.8 3 2.7 5 2.8" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              </svg>
            </a>

            <a class="sIcon" href="https://youtube.com/@asami.0111?si=aCmKvQvwMrfKZgyd" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M21 8.2c0-1.2-1-2.2-2.2-2.2H5.2C4 6 3 7 3 8.2v7.6C3 17 4 18 5.2 18h13.6c1.2 0 2.2-1 2.2-2.2V8.2z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M10.2 9.6v4.8l4.6-2.4-4.6-2.4z" fill="currentColor" opacity=".9"/>
              </svg>
            </a>
          </div>
        </div>

        <div class="heroRight" aria-label="Hero Image">
          <img src="banner.jpg" alt="Hero Banner">
        </div>
      </div>
    </section>

    <section class="section" id="products">
      <h2 class="h2">Products</h2>
      <p class="note">Choose Product â€” Select Type (Private / Sharing) â€” Add To Cart Or Order Via WhatsApp.</p>
      <div class="grid" id="productGrid"></div>
    </section>

    <section class="section" id="how">
      <h2 class="h2">How To Order</h2>
      <p class="note">Step 1 â€” Choose Product. Step 2 â€” Select Type. Step 3 â€” Checkout On WhatsApp.</p>

      <div class="steps">
        <div class="step">
          <b>1) Choose The Product You Want</b>
          <p>Scroll Products Section And Select The Product.</p>
        </div>
        <div class="step">
          <b>2) Select Type And Quantity</b>
          <p>Choose Private Or Sharing, Then Set Quantity.</p>
        </div>
        <div class="step">
          <b>3) Checkout Via WhatsApp</b>
          <p>Send Details And We Process Fast.</p>
        </div>
      </div>
    </section>

    <section class="section" id="social">
      <h2 class="h2">Social</h2>
      <p class="note">Follow For Updates, Proof, And New Stock.</p>

      <div class="socialRow">
        <a class="sIcon" href="https://www.instagram.com/asami.am0/" target="_blank" rel="noopener" aria-label="Instagram">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M7.5 2.8h9c2.6 0 4.7 2.1 4.7 4.7v9c0 2.6-2.1 4.7-4.7 4.7h-9c-2.6 0-4.7-2.1-4.7-4.7v-9c0-2.6 2.1-4.7 4.7-4.7z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M12 16.3a4.3 4.3 0 1 0 0-8.6 4.3 4.3 0 0 0 0 8.6z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M17.7 6.6h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </a>

        <a class="sIcon" href="https://www.tiktok.com/@mii._002/" target="_blank" rel="noopener" aria-label="TikTok">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M14 3v10.2a3.8 3.8 0 1 1-3.2-3.7" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M14 6.2c1.3 1.8 3 2.7 5 2.8" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
          </svg>
        </a>

        <a class="sIcon" href="https://youtube.com/@asami.0111?si=aCmKvQvwMrfKZgyd" target="_blank" rel="noopener" aria-label="YouTube">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M21 8.2c0-1.2-1-2.2-2.2-2.2H5.2C4 6 3 7 3 8.2v7.6C3 17 4 18 5.2 18h13.6c1.2 0 2.2-1 2.2-2.2V8.2z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M10.2 9.6v4.8l4.6-2.4-4.6-2.4z" fill="currentColor" opacity=".9"/>
          </svg>
        </a>
      </div>
    </section>

    <footer>Â© 2026 Mii Store â€” Established Since 2024</footer>
  </div>

  <a class="waFloat" id="waFloat" href="#" target="_blank" rel="noopener" aria-label="Order Via WhatsApp">
    WhatsApp
  </a>
  <!-- =========================
PART 2/3 â€” BODY CONTENT
========================= -->
    <section class="hero" id="top">
      <div class="heroInner">
        <div class="heroLeft">
          <div class="ticker" aria-label="Ticker">
            <div class="tickerTrack" id="tickerTrack">
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
              <span>Fast Supply â€¢ International â€¢ Trusted Seller â€¢</span>
            </div>
          </div>

          <!-- FIX: 2 baris rapi di HP & Desktop -->
          <h1 class="title">
            <span class="line">Premium Digital</span>
            <span class="line">Services</span>
          </h1>

          <p class="sub">
            Trusted Provider Of Premium Digital Subscriptions (Sharing Or Private Depending On Product).
            Simple Ordering Via WhatsApp, Fast Processing, And Clear Guidance After Purchase.
          </p>

          <div class="ctaRow">
            <a class="btn btnPrimary" id="waHero" href="#" target="_blank" rel="noopener">Order Via WhatsApp</a>
            <a class="btn btnGhost" href="#products">View Products</a>
          </div>

          <div class="socialRow" aria-label="Social Icons">
            <a class="sIcon" id="waIcon" href="#" target="_blank" rel="noopener" aria-label="WhatsApp" title="WhatsApp">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M20.5 11.9c0 4.7-3.9 8.6-8.6 8.6-1.5 0-2.9-.4-4.1-1.1L3.5 20.5l1.2-4.1c-.8-1.2-1.2-2.7-1.2-4.2 0-4.7 3.9-8.6 8.6-8.6 4.7 0 8.4 3.6 8.4 8.3z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M8.8 8.7c.2-.4.4-.4.7-.4h.6c.2 0 .5.1.6.4l.6 1.6c.1.3.1.5 0 .7l-.4.5c-.1.2-.2.4 0 .6.4.7 1.2 1.6 2.3 2.2.2.1.5.1.6 0l.7-.7c.2-.2.4-.2.6-.1l1.7.8c.2.1.4.4.4.6 0 .8-.3 1.3-.8 1.6-.5.3-1.2.4-1.8.2-1.4-.4-2.6-1.2-3.7-2.3-1.2-1.1-2-2.4-2.4-3.8-.2-.6-.1-1.3.2-1.9z" fill="currentColor" opacity=".85"/>
              </svg>
            </a>

            <a class="sIcon" href="https://www.instagram.com/asami.am0/" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M7.5 2.8h9c2.6 0 4.7 2.1 4.7 4.7v9c0 2.6-2.1 4.7-4.7 4.7h-9c-2.6 0-4.7-2.1-4.7-4.7v-9c0-2.6 2.1-4.7 4.7-4.7z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M12 16.3a4.3 4.3 0 1 0 0-8.6 4.3 4.3 0 0 0 0 8.6z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M17.7 6.6h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
              </svg>
            </a>

            <a class="sIcon" href="https://www.tiktok.com/@mii._002/" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M14 3v10.2a3.8 3.8 0 1 1-3.2-3.7" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14 6.2c1.3 1.8 3 2.7 5 2.8" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
              </svg>
            </a>

            <a class="sIcon" href="https://youtube.com/@asami.0111?si=aCmKvQvwMrfKZgyd" target="_blank" rel="noopener" aria-label="YouTube" title="YouTube">
              <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
                <path d="M21 8.2c0-1.2-1-2.2-2.2-2.2H5.2C4 6 3 7 3 8.2v7.6C3 17 4 18 5.2 18h13.6c1.2 0 2.2-1 2.2-2.2V8.2z" stroke="currentColor" stroke-width="1.6"/>
                <path d="M10.2 9.6v4.8l4.6-2.4-4.6-2.4z" fill="currentColor" opacity=".9"/>
              </svg>
            </a>
          </div>
        </div>

        <div class="heroRight" aria-label="Hero Image">
          <img src="banner.jpg" alt="Hero Banner">
        </div>
      </div>
    </section>

    <section class="section" id="products">
      <h2 class="h2">Products</h2>
      <p class="note">Choose Product â€” Select Type (Private / Sharing) â€” Add To Cart Or Order Via WhatsApp.</p>
      <div class="grid" id="productGrid"></div>
    </section>

    <section class="section" id="how">
      <h2 class="h2">How To Order</h2>
      <p class="note">Step 1 â€” Choose Product. Step 2 â€” Select Type. Step 3 â€” Checkout On WhatsApp.</p>

      <div class="steps">
        <div class="step">
          <b>1) Choose The Product You Want</b>
          <p>Scroll Products Section And Select The Product.</p>
        </div>
        <div class="step">
          <b>2) Select Type And Quantity</b>
          <p>Choose Private Or Sharing, Then Set Quantity.</p>
        </div>
        <div class="step">
          <b>3) Checkout Via WhatsApp</b>
          <p>Send Details And We Process Fast.</p>
        </div>
      </div>
    </section>

    <section class="section" id="social">
      <h2 class="h2">Social</h2>
      <p class="note">Follow For Updates, Proof, And New Stock.</p>

      <div class="socialRow">
        <a class="sIcon" href="https://www.instagram.com/asami.am0/" target="_blank" rel="noopener" aria-label="Instagram">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M7.5 2.8h9c2.6 0 4.7 2.1 4.7 4.7v9c0 2.6-2.1 4.7-4.7 4.7h-9c-2.6 0-4.7-2.1-4.7-4.7v-9c0-2.6 2.1-4.7 4.7-4.7z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M12 16.3a4.3 4.3 0 1 0 0-8.6 4.3 4.3 0 0 0 0 8.6z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M17.7 6.6h.01" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
          </svg>
        </a>

        <a class="sIcon" href="https://www.tiktok.com/@mii._002/" target="_blank" rel="noopener" aria-label="TikTok">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M14 3v10.2a3.8 3.8 0 1 1-3.2-3.7" stroke="currentColor" stroke-width="1.7" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M14 6.2c1.3 1.8 3 2.7 5 2.8" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/>
          </svg>
        </a>

        <a class="sIcon" href="https://youtube.com/@asami.0111?si=aCmKvQvwMrfKZgyd" target="_blank" rel="noopener" aria-label="YouTube">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
            <path d="M21 8.2c0-1.2-1-2.2-2.2-2.2H5.2C4 6 3 7 3 8.2v7.6C3 17 4 18 5.2 18h13.6c1.2 0 2.2-1 2.2-2.2V8.2z" stroke="currentColor" stroke-width="1.6"/>
            <path d="M10.2 9.6v4.8l4.6-2.4-4.6-2.4z" fill="currentColor" opacity=".9"/>
          </svg>
        </a>
      </div>
    </section>

    <footer>Â© 2026 Mii Store â€” Established Since 2024</footer>
  </div>

  <a class="waFloat" id="waFloat" href="#" target="_blank" rel="noopener" aria-label="Order Via WhatsApp">
    WhatsApp
  </a><!-- =========================
PART 3/3 â€” SCRIPT (TYPE + CART + RESPONSIVE INIT)
========================= -->
  <script>
    const WA_NUMBER = "6282191223912";
    const WA_BASE = "https://wa.me/" + WA_NUMBER;

    const PRODUCTS = [
      { id:"canva_pro", name:"Canva Pro", duration:"1 Month", image:"Canva.jpg", tags:["Ask Stock"], typeOptions:["Private","Sharing"] },
      { id:"capcut_pro", name:"CapCut Pro", duration:"1 Month", image:"Capcut.jpg", tags:["Fast"], typeOptions:["Private"] },
      { id:"youtube_premium", name:"YouTube Premium", duration:"1 Month", image:"YOUTUBE.jpg", tags:["Invite"], typeOptions:["Private","Sharing"] },
      { id:"chatgpt_go_1y", name:"ChatGPT Go", duration:"1 Year", image:"CHATGPT.jpg", tags:["Guided"], typeOptions:["Private"] },
      { id:"chatgpt_plus_1m", name:"ChatGPT Plus", duration:"1 Month", image:"CHATGPT.jpg", tags:["Ask Stock"], typeOptions:["Private","Sharing"] },
      { id:"gemini_pro_1m", name:"Gemini Pro", duration:"1 Month", image:"GEMINI.jpg", tags:["Ask Stock"], typeOptions:["Private","Sharing"] },
      { id:"gemini_pro_1y", name:"Gemini Pro", duration:"1 Year", image:"GEMINI.jpg", tags:["Ask Stock"], typeOptions:["Private","Sharing"] },
      { id:"spotify_premium", name:"Spotify Premium", duration:"3 Months", image:"Spotify.jpg", tags:["Music"], typeOptions:["Private"] },
      { id:"alight_motion", name:"Alight Motion", duration:"1 Year", image:"ALIGHT MOTION.jpg", tags:["Editor"], typeOptions:["Private"] }
    ];

    const $ = (id) => document.getElementById(id);

    function waLink(message){
      return WA_BASE + "?text=" + encodeURIComponent(message);
    }

    function buildDefaultWA(){
      const msg = [
        "Hi Mii Store, I Want To Order.",
        "",
        "Product: (Write Product Name)",
        "Duration: (1 Month / 3 Months / 1 Year)",
        "Type: (Private / Sharing)",
        "Quantity: 1",
        "",
        "Thank You."
      ].join("\n");
      return waLink(msg);
    }

    // ====== BUBBLES ======
    (function initBubbles(){
      const host = $("bubbles");
      const count = 10;
      for(let i=0;i<count;i++){
        const b = document.createElement("div");
        b.className = "bubble";
        const size = 90 + Math.random()*170;
        b.style.width = size+"px";
        b.style.height = size+"px";
        b.style.left = (Math.random()*100)+"%";
        b.style.top = (60 + Math.random()*70)+"%";
        b.style.animationDuration = (12 + Math.random()*10)+"s";
        b.style.animationDelay = (-Math.random()*12)+"s";
        host.appendChild(b);
      }
    })();

    // ====== ELEMENTS ======
    const productGrid = $("productGrid");
    const cartBtn = $("cartBtn");
    const cartCount = $("cartCount");
    const drawer = $("drawer");
    const drawerBackdrop = $("drawerBackdrop");
    const closeCart = $("closeCart");
    const cartList = $("cartList");
    const cartSummary = $("cartSummary");
    const checkoutBtn = $("checkoutBtn");
    const themeBtn = $("themeBtn");

    const waHero = $("waHero");
    const waFloat = $("waFloat");
    const waIcon = $("waIcon");

    waHero.href = buildDefaultWA();
    waFloat.href = buildDefaultWA();
    waIcon.href = buildDefaultWA();

    // ====== CART STORAGE ======
    const CART_KEY = "mii_cart_v3";
    let cart = loadCart();

    function loadCart(){
      try{ return JSON.parse(localStorage.getItem(CART_KEY) || "{}"); }
      catch(e){ return {}; }
    }
    function saveCart(){
      localStorage.setItem(CART_KEY, JSON.stringify(cart));
      renderCartBadge();
      updateWaLinks();
    }
    function cartTotalQty(){
      return Object.values(cart).reduce((sum, item) => sum + item.qty, 0);
    }
    function renderCartBadge(){
      const total = cartTotalQty();
      if(total > 0){
        cartCount.style.display = "grid";
        cartCount.textContent = total;
      }else{
        cartCount.style.display = "none";
      }
    }

    // ====== MODAL (QTY + TYPE) ======
    const qtyModal = $("qtyModal");
    const modalBackdrop = $("modalBackdrop");
    const qtyTitle = $("qtyTitle");
    const qtyDesc = $("qtyDesc");
    const qtyValue = $("qtyValue");
    const qtyMinus = $("qtyMinus");
    const qtyPlus = $("qtyPlus");
    const qtyConfirm = $("qtyConfirm");
    const qtyCancel = $("qtyCancel");
    const closeQty = $("closeQty");
    const qtyType = $("qtyType");

    let pendingProduct = null;
    let pendingQty = 1;

    function openQtyModal(product, preType){
      pendingProduct = product;
      pendingQty = 1;
      qtyValue.textContent = pendingQty;

      // set type options
      qtyType.innerHTML = product.typeOptions.map(t => `<option value="${t}">${t}</option>`).join("");
      if(preType && product.typeOptions.includes(preType)) qtyType.value = preType;

      qtyTitle.textContent = "Add To Cart";
      qtyDesc.textContent = product.name + " â€” " + product.duration;

      qtyModal.classList.add("open");
      modalBackdrop.classList.add("open");
    }
    function closeQtyModal(){
      qtyModal.classList.remove("open");
      modalBackdrop.classList.remove("open");
      pendingProduct = null;
    }

    qtyMinus.addEventListener("click", () => {
      pendingQty = Math.max(1, pendingQty - 1);
      qtyValue.textContent = pendingQty;
    });
    qtyPlus.addEventListener("click", () => {
      pendingQty = Math.min(99, pendingQty + 1);
      qtyValue.textContent = pendingQty;
    });
    qtyCancel.addEventListener("click", closeQtyModal);
    closeQty.addEventListener("click", closeQtyModal);
    modalBackdrop.addEventListener("click", closeQtyModal);

    qtyConfirm.addEventListener("click", () => {
      if(!pendingProduct) return;
      addToCart(pendingProduct, pendingQty, qtyType.value);
      closeQtyModal();
      openCart();
    });

    // ====== CART ACTIONS ======
    function addToCart(product, qty, type){
      const key = product.id + "::" + (type || "Private"); // beda type = beda item
      if(cart[key]){
        cart[key].qty = Math.min(99, cart[key].qty + qty);
      }else{
        cart[key] = {
          key,
          id: product.id,
          name: product.name,
          duration: product.duration,
          image: product.image,
          type: type || "Private",
          qty
        };
      }
      saveCart();
    }

    function setQty(key, qty){
      if(!cart[key]) return;
      cart[key].qty = Math.max(1, Math.min(99, qty));
      saveCart();
      renderCart();
    }
    function removeItem(key){
      delete cart[key];
      saveCart();
      renderCart();
    }
    function setType(key, newType){
      const item = cart[key];
      if(!item) return;

      const newKey = item.id + "::" + newType;
      if(newKey === key) return;

      // merge if exists
      if(cart[newKey]){
        cart[newKey].qty = Math.min(99, cart[newKey].qty + item.qty);
      }else{
        cart[newKey] = {...item, key:newKey, type:newType};
      }
      delete cart[key];
      saveCart();
      renderCart();
    }

    function openCart(){
      drawer.classList.add("open");
      drawerBackdrop.classList.add("open");
      renderCart();
    }
    function closeCartDrawer(){
      drawer.classList.remove("open");
      drawerBackdrop.classList.remove("open");
    }

    cartBtn.addEventListener("click", openCart);
    closeCart.addEventListener("click", closeCartDrawer);
    drawerBackdrop.addEventListener("click", closeCartDrawer);

    function renderCart(){
      const items = Object.values(cart);
      cartList.innerHTML = "";

      if(items.length === 0){
        cartList.innerHTML = `<div class="small">No Items In Cart. Add Products First.</div>`;
        cartSummary.textContent = "No Items In Cart";
        checkoutBtn.href = buildDefaultWA();
        return;
      }

      items.forEach(item => {
        const p = PRODUCTS.find(x => x.id === item.id);
        const typeOptions = p ? p.typeOptions : ["Private","Sharing"];

        const row = document.createElement("div");
        row.className = "cartItem";
        row.innerHTML = `
          <div class="cartThumb"><img src="${item.image}" alt="${item.name}"></div>
          <div class="cartMid">
            <b>${item.name}</b>
            <span>${item.duration}</span>

            <select class="cartTypeSelect" data-act="type" data-key="${item.key}">
              ${typeOptions.map(t => `<option value="${t}" ${t===item.type?"selected":""}>${t}</option>`).join("")}
            </select>

            <div class="qtyRow">
              <button class="qtyBtn" data-act="minus" data-key="${item.key}">âˆ’</button>
              <div class="qtyVal">${item.qty}</div>
              <button class="qtyBtn" data-act="plus" data-key="${item.key}">+</button>
              <button class="removeBtn" data-act="remove" data-key="${item.key}">Remove</button>
            </div>
          </div>
        `;
        cartList.appendChild(row);
      });

      cartSummary.textContent = "Total Items: " + cartTotalQty();
      checkoutBtn.href = buildCheckoutMessage();
    }

    cartList.addEventListener("click", (e) => {
      const btn = e.target.closest("button");
      if(!btn) return;

      const act = btn.getAttribute("data-act");
      const key = btn.getAttribute("data-key");
      if(!key || !cart[key]) return;

      if(act === "minus") setQty(key, cart[key].qty - 1);
      if(act === "plus") setQty(key, cart[key].qty + 1);
      if(act === "remove") removeItem(key);
    });

    cartList.addEventListener("change", (e) => {
      const sel = e.target.closest("select[data-act='type']");
      if(!sel) return;
      const key = sel.getAttribute("data-key");
      const val = sel.value;
      setType(key, val);
    });

    function buildCheckoutMessage(){
      const items = Object.values(cart);
      if(items.length === 0) return buildDefaultWA();

      const lines = [];
      lines.push("Hi Mii Store, I Want To Order.");
      lines.push("");
      lines.push("Order List:");
      items.forEach((it, idx) => {
        lines.push(`${idx+1}) ${it.name} â€” ${it.duration} â€” Type: ${it.type} â€” Qty: ${it.qty}`);
      });
      lines.push("");
      lines.push("Please Send Price And Stock Info. Thank You.");
      return waLink(lines.join("\n"));
    }

    // ====== PRODUCTS RENDER (Type selector per product) ======
    function renderProducts(){
      productGrid.innerHTML = "";
      PRODUCTS.forEach(p => {
        const card = document.createElement("article");
        card.className = "card";

        const typeSelectHtml = `
          <div class="typeRow">
            <label>Type</label>
            <select class="typeSelect" data-type="${p.id}">
              ${p.typeOptions.map(t => `<option value="${t}">${t}</option>`).join("")}
            </select>
          </div>
        `;

        card.innerHTML = `
          <div class="pImg"><img src="${p.image}" alt="${p.name}"></div>
          <div class="pBody">
            <h3 class="pTitle">${p.name}</h3>
            <div class="pMeta">${p.duration}</div>

            <div class="chips">
              ${p.tags.map(t => `<span class="chip">${t}</span>`).join("")}
            </div>

            ${typeSelectHtml}

            <div class="pActions">
              <button class="miniBtn miniPrimary" data-add="${p.id}">Add</button>
              <button class="miniBtn" data-order="${p.id}">Order</button>
            </div>
          </div>
        `;
        productGrid.appendChild(card);
      });
    }

    function getSelectedType(productId){
      const sel = document.querySelector(`select[data-type="${productId}"]`);
      return sel ? sel.value : "Private";
    }

    productGrid.addEventListener("click", (e) => {
      const addBtn = e.target.closest("[data-add]");
      const orderBtn = e.target.closest("[data-order]");

      if(addBtn){
        const id = addBtn.getAttribute("data-add");
        const p = PRODUCTS.find(x => x.id === id);
        if(!p) return;
        const t = getSelectedType(id);
        openQtyModal(p, t);
      }

      if(orderBtn){
        const id = orderBtn.getAttribute("data-order");
        const p = PRODUCTS.find(x => x.id === id);
        if(!p) return;

        const t = getSelectedType(id);
        const msg = [
          "Hi Mii Store, I Want To Order.",
          "",
          "Product: " + p.name,
          "Duration: " + p.duration,
          "Type: " + t,
          "Quantity: 1",
          "",
          "Please Send Price And Stock Info. Thank You."
        ].join("\n");
        window.open(waLink(msg), "_blank", "noopener");
      }
    });

    // ====== THEME ======
    function setTheme(mode){
      document.documentElement.setAttribute("data-theme", mode);
      localStorage.setItem("mii_theme", mode);
      themeBtn.textContent = (mode === "dark") ? "â˜€ï¸" : "ðŸŒ™";
    }
    setTheme(localStorage.getItem("mii_theme") || "light");
    themeBtn.addEventListener("click", () => {
      const cur = document.documentElement.getAttribute("data-theme");
      setTheme(cur === "dark" ? "light" : "dark");
    });

    // ====== WA LINKS (Hero + Floating + Icon) ======
    function updateWaLinks(){
      const link = buildCheckoutMessage();
      waFloat.href = link;
      waHero.href = link;
      waIcon.href = link;
      checkoutBtn.href = link;
    }

    // Smooth anchor
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener("click",(e)=>{
        const href = a.getAttribute("href");
        if(!href || href === "#") return;
        const el = document.querySelector(href);
        if(!el) return;
        e.preventDefault();
        el.scrollIntoView({behavior:"smooth", block:"start"});
      });
    });

    // INIT
    renderProducts();
    renderCartBadge();
    updateWaLinks();
  </script>
</body>
</html>
